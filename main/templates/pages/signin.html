{% extends 'base.html' %}
{% load static %}
{% block content %}
{% include 'components/navbar.html' %}

<div id="signin-section" class="auth-form-container">
  <div class="auth-left">
    <h1>Welcome back, Artist!</h1>
  </div>

  <div class="auth-right">
  <form method="POST" action="{% url 'login' %}">
      {% csrf_token %}

      <div class="auth-header">
        <h2>Log in to Solid Forge</h2>
        <p>Continue where your creativity left off.</p>
      </div>

      {% if messages %}
        {% for message in messages %}
          <p class="form-message {{ message.tags }}">{{ message }}</p>
        {% endfor %}
      {% endif %}

      <div class="input-group">
        <label for="email"><b>Email</b></label>
        <input type="email" id="email" name="loginEmail" placeholder="Email" required>
      </div>

      <div class="input-group">
        <label for="password"><b>Password</b></label>
        <input type="password" id="password" name="loginPassword" placeholder="Password" required>
      </div>

      <button type="submit" class="auth-btn">Log In</button>

      <p class="redirect-text">
        Donâ€™t have an account? <a href="{% url 'signup' %}">Sign Up</a>
      </p>
    </form>
  </div>
</div>

<script>
// validate signin form: require email and password, and minimum password length
(function(){
  const form = document.querySelector('#signin-section form');
  if (!form) return;
  form.addEventListener('submit', function(e){
    const email = this.querySelector('input[type="email"]').value.trim();
    const pass = this.querySelector('input[type="password"]').value.trim();
    if (!email || !pass) {
      e.preventDefault();
      alert('Please fill in all required fields.');
      return;
    }
    if (pass.length < 8) {
      e.preventDefault();
      alert('Password must be at least 8 characters long.');
    }
  });
})();
</script>


{% endblock %}
